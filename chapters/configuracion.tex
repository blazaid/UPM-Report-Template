\chapter{Configuración de la memoria}

La estructura de esta plantilla está dividida en varios ficheros. Aunque puede parecer complicado, en realidad no es tanto:

\begin{itemize}
    \item \texttt{./appendices/}: Los fuentes de los capítulos de apéndices, vamos, los que van al final y que se usan como adenda a la memoria como tal.
    \item \texttt{./chapters/}: Los fuentes de los capítulos que forman parte del cuerpo de la memoria.
    \item \texttt{./figures/}: Las figuras (imágenes, diagramas) que se usarán a lo largo de todo el documento.
    \item \texttt{./frontmatter/}: Los fuentes de todo aquello que se incluye antes del cuerpo de la memoria. Por ahora, todas las entradas del glosario.
    \item \texttt{./sources}: Ficheros con fuentes que se incluyen dentro de listados de fuentes del documento.
    \item \texttt{./references.bib}: Los fuentes en \hologo{BibTeX} de la bibliografía que se referencia en la memoria en la memoria.
    \item \texttt{./report.tex}: El fichero principal a partir del cual se compila todo el proyecto.
    \item \texttt{./upm-report}: El directorio que tiene todo el contenido que hace que la memoria se vea así. Si tocas aquí, que sea con mimo y cariño, porque es muy fácil cargárselo todo.
\end{itemize}

\section{¿Cómo empiezo a escribir la memoria?}

Por el principio, es decir, con el fichero \texttt{report.tex}. Veamos la primera línea del fichero (listado~\ref{lst:starting-report}).

\lstinputlisting[language=tex,firstline=1,lastline=7,caption=Primeras líneas del fichero \texttt{report.tex},label=lst:starting-report]{report.tex}

En este punto es donde se configura gran parte de la plantilla. Los parámetros y sus opciones son las siguientes:

\begin{itemize}
    \item \texttt{school}: La escuela a la que pertenece el estudiante. La idea de la plantilla es que se use a lo largo de todas las escuelas de la UPM, y que cada una de ellas tenga su propia configuración. La escuela determinará, entre otras cosas, direcciones y colores principales. Las opciones se describen en el~\autoref{ch:escuelas-y-titulos}.
    \item \texttt{type}: El tipo de memoria. Modifica algunos textos, incluida la portada. Puede tomar los valores \texttt{pfg} (\acrlong{pfg}) y \texttt{pfm}  (\acrlong{pfm}).
    \item \texttt{degree}: El grado al que aspira el estudiante. De momento sólo están definidos los grados que se imparten en la ETSISI (también en el~\autoref{ch:escuelas-y-titulos}).
    \item \texttt{authorsex}: Puede ser \texttt{m} (masculino) o \texttt{f} (femenino), y sirve para modificar algunos textos relacionados con el sexo del estudiante.
    \item \texttt{directorsex}: Similar al parámetro \texttt{authorsex}, pero para el director del proyecto.
\end{itemize}

Tras esta configuración, se incluye el fichero de referencias bibliográficas (listado~\ref{lst:starting-references}):

\lstinputlisting[language=tex,firstline=9,lastline=9,caption=Inclusión del fichero de referencias bibliográficas \texttt{references.bib},label=lst:starting-references]{report.tex}

El tema de las referencias bibliográficas se explica en el~\autoref{s:referencias-bibliograficas} del~\autoref{ch:componentes-de-la-plantilla}. En principio no habría que tocar nada (bueno sí, añadir las fuentes y referenciarlas), pero si las referencias se tienen en otro fichero, bastaría con cambiar el nombre al de dicho fichero.

Los cinco siguientes comandos, como se ve en el listado~\ref{lst:starting-title-author-and-director}, indican el título del proyecto, el nombre del autor y su entrada en la bibliografía, y el nombre del director y su entrada en la bibliografía.

\lstinputlisting[language=tex,firstline=11,lastline=15,caption={Configurando autor, título del proyecto y director},label={lst:starting-title-author-and-director}]{report.tex}

El único misterio es eso de las entradas bibliográficas para el autor y el director. No es más que los nombres que aparecen más adelante cuando se indica \enquote{cómo citar el proyecto}. El día que aprenda cómo hacerlo automáticamente, será una configuración que desaparezca\footnote{Bueno, y si tú, queridísimo lector o lectora sabes cómo hacerlo, hazme un \textit{pull request} al repositorio de la plantilla: \href{\templaterepository}{\templaterepository}.}.

Para incluir un codirector o codirectora, en el caso de que el trabajo lo requiera, simplemente descomenta la línea que verás a continuación (listado \ref{lst:adding-codirector}).

\lstinputlisting[language=tex,firstline=17,lastline=9,caption={Configurando codirector},label=lst:adding-codirector]{report.tex}

El primer parámetro dentro de los corchetes \texttt{[f/m]} indica el género del codirector (\texttt{m} para masculino, \texttt{f} para femenino). A continuación, proporciona el nombre completo del codirector y el nombre para la referencia bibliográfica. Recuerda que esta configuración es opcional, si no se necesita un codirector, simplemente deja esta línea comentada. El documento generará automáticamente la portada y el contenido sin incluir la sección del codirector.


Tras ello, empieza el primer contenido de verdad: \textbf{resumen} y \textbf{abstract}, cada uno con sus palabras clave asociadas. Ambos dos son obligatorios y se añaden con la macro \lstinline{\abstract}, donde se especificarán el idioma (\texttt{spanish} o \texttt{english}) y el contenido. De la misma manera, las palabras clave se añaden con la macro \lstinline{\keywords}. Ni que decir tiene que ambos deben tener el mismo contenido, uno en español y el otro en inglés. Y además es obligatorio (según la normativa de la ETSISI).

Existe la opción de añadir agradecimientos a través de la macro \lstinline{\acknowledgements}. Es opcional, así que si no se pone no se renderiza en el documento final, pero es algo bonito y a las abuelas les encanta aparecer ahí. Y las abuelas son de lo más bonito que existe en este mundo, así que cuidadlas.

Y ahora sí, se empieza con el grueso del documento. Tras incluir el glosario, del que se hablará en la sección~\ref{s:glosario} del~\ref{ch:componentes-de-la-plantilla}, se comenzarán a incluir uno tras otro todos los capítulos de los que se compone nuestra memoria, tal y como se muestra en el listado~\ref{lst:starting-include-chapters}.

\lstinputlisting[language=tex,firstline=41,lastline=52,caption={Cómo se incluyen los capítulos y los apéndices},label={lst:starting-include-chapters}]{report.tex}

La macro \lstinline{\appendix} del medio indica a partir de qué punto se añaden los apéndices. No son obligatorios, ni mucho menos, pero en algunos \glspl{pfg} y \glspl{pfm} se suelen incluir para dar información adicional de contexto que no es el objetivo de la memoria, pero sí interesante para complementar. Por ejemplo, en un \gls{pfm} para el estudio del comportamiento de conductores al volante, uno de los apéndices podría ser cada uno de los formularios que se le ofrecieron para rellenar a cada uno de los conductores de dicho estudio.

Y ya estaría todo. Resumiendo, hay que configurar la plantilla, poner el autor, título y director del proyecto e incluir los capítulos y apéndices que queramos.

\section{¿Cómo estructurar la memoria?}
\label{s:como-estructurar}

La respuesta rápida es \enquote{como buenamente quieras/puedas}. En realidad la estructura de la memoria va a depender del tipo de trabajo desarrollado, pero con carácter general, los trabajos suelen seguir ciertas estructuras.

Un \gls{pfg} es un trabajo cuyo propósito es demostrar que se han llegado a adquirir las competencias asociadas con la titulación cursada. Con esto queremos decir que, a diferencia de otros tipos de trabajo académico, en éste no es necesario realizar aportaciones originales al estado de la cuestión.

Una estructura típica es la siguiente:

\begin{enumerate}
    \item Resumen
    \item Introducción
    \item Estado de la cuestión
    \item Metodología
    \item Resultados y Discusión
    \item Conclusiones
    \item Apéndices
    \item Referencias bibliográficas
    \item Glosario
\end{enumerate}

Un \gls{pfm}, a diferencia de un \gls{pfg} trata de profundizar más en un campo concreto de una disciplina, por lo que tiene a ser más extenso y mucho más específico.

En términos generales, la estructura es similar. Sin embargo es de esperar que el nivel de exigencia sea mayor, ya que el estudiante que lo realiza debe demostrar que es un titulado superior. Esto se nota más en la fase de documentación, ya que al tratar de profundizar en un tema más específico, el trabajo de contextualizar y argumentar es más tedioso.

Se pueden identificar dos tipos de proyectos diferentes, aquellos que podríamos catalogar de \textit{profesionales}, con enfoque a la innovación o mejora en un área profesional concreta, y aquellos \textit{de investigación}, más enfocados a la búsqueda de nuevo conocimiento en el área, y que suelen ser el comienzo de la carrera investigadora.
